<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36" version="25.0.3">
  <diagram name="第 1 页" id="ONAhNbK6WlwOs88OQiCy">
    <mxGraphModel dx="3716" dy="1805" grid="1" gridSize="10" guides="0" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="WXXS1D7m9ENV-bKCxULW-36" value="&lt;div&gt;&lt;span style=&quot;font-size: 14px; text-wrap-mode: nowrap;&quot;&gt;自动装配&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: 14px; text-wrap-mode: nowrap;&quot;&gt;@Autowired&lt;/span&gt;&lt;br style=&quot;font-size: 14px; text-wrap-mode: nowrap;&quot;&gt;&lt;span style=&quot;font-size: 14px; text-wrap-mode: nowrap;&quot;&gt;KeyProxyService&amp;nbsp;&lt;/span&gt;&lt;b style=&quot;font-size: 14px; text-wrap-mode: nowrap;&quot;&gt;keyService&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-1330" y="435" width="210" height="80" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-13" value="" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-140" y="410" width="680" height="310" as="geometry" />
        </mxCell>
        <mxCell id="SMqSmTWAoD0rVWmoxJEN-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;coreService&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-95" y="545" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SMqSmTWAoD0rVWmoxJEN-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="SMqSmTWAoD0rVWmoxJEN-2" target="SMqSmTWAoD0rVWmoxJEN-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SMqSmTWAoD0rVWmoxJEN-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;grpcChannelFactory&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="30" y="100" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SMqSmTWAoD0rVWmoxJEN-3" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;channel&lt;/font&gt;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" parent="1" vertex="1">
          <mxGeometry x="45" y="180" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SMqSmTWAoD0rVWmoxJEN-5" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="210" y="150" as="sourcePoint" />
            <mxPoint x="260" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SMqSmTWAoD0rVWmoxJEN-6" value="" style="endArrow=none;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="5" y="564.5" as="sourcePoint" />
            <mxPoint x="155" y="565" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="SMqSmTWAoD0rVWmoxJEN-7" value="&lt;font style=&quot;font-size: 13px;&quot;&gt;describeService ( )&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="15" y="545" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="z-BjC2MzRFKrm_7a5L8--1" value="&lt;font style=&quot;font-size: 13px;&quot;&gt;创建一个gRPC通道&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;并初始化coreService&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="140" y="70" width="240" height="20" as="geometry" />
        </mxCell>
        <mxCell id="z-BjC2MzRFKrm_7a5L8--2" value="&lt;span style=&quot;font-size: 13px;&quot;&gt;使用带有访问令牌的 gRPC 客户端调用远程服务的 describeService 方法，&lt;/span&gt;&lt;span style=&quot;font-size: 13px; background-color: initial;&quot;&gt;并返回响应。&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-40" y="510" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="z-BjC2MzRFKrm_7a5L8--3" value="&lt;div data-darkreader-inline-bgcolor=&quot;&quot; data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: &amp;quot;Fira code&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, monospace, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 15px; line-height: 20px; white-space: pre; --darkreader-inline-color: #c8c3bc; --darkreader-inline-bgcolor: #17191a;&quot;&gt;&lt;div&gt;&lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(204, 204, 204); --darkreader-inline-color: #c8c3bc;&quot;&gt;//controller/KeyEndpoint.java&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(86, 156, 214); --darkreader-inline-color: #60a4d8;&quot;&gt;this&lt;/span&gt;&lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(204, 204, 204); --darkreader-inline-color: #c8c3bc;&quot;&gt;.&lt;/span&gt;&lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(220, 220, 170); --darkreader-inline-color: #d8d89f;&quot;&gt;setClient&lt;/span&gt;&lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(204, 204, 204); --darkreader-inline-color: #c8c3bc;&quot;&gt;(&lt;/span&gt;&lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(156, 220, 254); --darkreader-inline-color: #87d5fe;&quot;&gt;KeyServiceGrpc&lt;/span&gt;&lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(204, 204, 204); --darkreader-inline-color: #c8c3bc;&quot;&gt;.&lt;/span&gt;&lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(220, 220, 170); --darkreader-inline-color: #d8d89f;&quot;&gt;newBlockingStub&lt;/span&gt;&lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(204, 204, 204); --darkreader-inline-color: #c8c3bc;&quot;&gt;(channel));&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-90" y="210" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="z-BjC2MzRFKrm_7a5L8--4" value="&lt;div data-darkreader-inline-bgcolor=&quot;&quot; data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: &amp;quot;Fira code&amp;quot;, &amp;quot;Microsoft YaHei&amp;quot;, monospace, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-weight: normal; font-size: 15px; line-height: 20px; white-space: pre; --darkreader-inline-color: #c8c3bc; --darkreader-inline-bgcolor: #17191a;&quot;&gt;&lt;div&gt;&lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(204, 204, 204); --darkreader-inline-color: #c8c3bc;&quot;&gt;//service/CoreProxyService.java&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div data-darkreader-inline-bgcolor=&quot;&quot; data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); line-height: 20px; --darkreader-inline-color: #c8c3bc; --darkreader-inline-bgcolor: #17191a;&quot;&gt;coreService &lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(212, 212, 212); --darkreader-inline-color: #cdc8c2;&quot;&gt;=&lt;/span&gt; &lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(156, 220, 254); --darkreader-inline-color: #87d5fe;&quot;&gt;CoreServiceGrpc&lt;/span&gt;.&lt;span data-darkreader-inline-color=&quot;&quot; style=&quot;color: rgb(220, 220, 170); --darkreader-inline-color: #d8d89f;&quot;&gt;newBlockingStub&lt;/span&gt;(channel);&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="5" y="565" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="z-BjC2MzRFKrm_7a5L8--5" value="&lt;span style=&quot;font-size: 13px;&quot;&gt;newBlockingStub是阻塞调用的gRPC客户端类型&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-45" y="280" width="300" height="20" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;KeyEndpoint&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-330" y="110" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-2" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="KmwIl0YpzBXAnwqU6k_d-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-280" y="80" as="sourcePoint" />
            <mxPoint x="-270" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-3" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;KeyServiceRestProxy&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-350" y="10" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-4" value="&lt;span style=&quot;font-size: 13px;&quot;&gt;继承&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-270" y="80" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-5" value="&lt;span style=&quot;font-size: 13px;&quot;&gt;创建&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="110" y="150" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-7" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;size=0.25;" parent="1" vertex="1">
          <mxGeometry x="-80" y="80" width="50" height="120" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-8" value="&lt;span style=&quot;font-size: 13px;&quot;&gt;初始化时&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-181" y="120" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="KmwIl0YpzBXAnwqU6k_d-1" target="KmwIl0YpzBXAnwqU6k_d-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="KmwIl0YpzBXAnwqU6k_d-10" target="SMqSmTWAoD0rVWmoxJEN-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;KeyGrpcService&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-350" y="537.5" width="120" height="55" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-12" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;使用&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-198" y="537.5" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="KmwIl0YpzBXAnwqU6k_d-14" value="&lt;font color=&quot;#990000&quot; style=&quot;font-size: 17px;&quot;&gt;&lt;b&gt;租户tenant&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="165" y="420" width="95" height="20" as="geometry" />
        </mxCell>
        <mxCell id="LolBFdbKTXGbjCZRCZme-1" value="&lt;font color=&quot;#990000&quot; style=&quot;font-size: 16px;&quot;&gt;&lt;b style=&quot;&quot;&gt;控制层入口&lt;br&gt;@RestController&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-345" y="170" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="LolBFdbKTXGbjCZRCZme-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;key_service.proto&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-350" y="-200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="LolBFdbKTXGbjCZRCZme-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.24;entryY=0.492;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="LolBFdbKTXGbjCZRCZme-2" target="LolBFdbKTXGbjCZRCZme-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-222" y="-170.5" as="sourcePoint" />
            <mxPoint x="-87" y="-170.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LolBFdbKTXGbjCZRCZme-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;protoc编译&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-217" y="-200" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LolBFdbKTXGbjCZRCZme-5" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;package cn.hashdata.cloudmgr.key.proto&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-107" y="-290" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="LolBFdbKTXGbjCZRCZme-6" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;size=0.25;" parent="1" vertex="1">
          <mxGeometry x="-122" y="-229" width="10" height="120" as="geometry" />
        </mxCell>
        <mxCell id="LolBFdbKTXGbjCZRCZme-7" value="&lt;div&gt;DescribeInternalTenantKeyRequest.java&lt;/div&gt;&lt;div&gt;DescribeInternalTenantKeyResponse.java&lt;/div&gt;&lt;div&gt;CreateInternalTenantKeyRequest.java&lt;/div&gt;&lt;div&gt;CreateInternalTenantKeyResponse.java&lt;br&gt;&lt;b&gt;……&lt;/b&gt;&lt;br&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;KeyServiceGrpc.java ：&lt;/span&gt;&lt;span style=&quot;background-color: initial; font-size: 14px;&quot;&gt;包含 KeyService 服务的客户端stub和服务器端接口。&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-97" y="-229" width="500" height="100" as="geometry" />
        </mxCell>
        <UserObject label="&lt;span style=&quot;forced-color-adjust: none; color: rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: nowrap; background-color: rgb(251, 251, 251); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; font-size: 14px;&quot;&gt;KeyServiceRestProxy.java ：包含处理REST请求的方法&lt;/span&gt;" id="WXXS1D7m9ENV-bKCxULW-1">
          <mxCell style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
            <mxGeometry x="-97" y="-129" width="510" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-2" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;KeyProxyService&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-1301.5" y="556.25" width="150" height="80.5" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00994D;strokeWidth=2;" parent="1" source="WXXS1D7m9ENV-bKCxULW-4" target="WXXS1D7m9ENV-bKCxULW-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-4" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;createKey(String tenant)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1067" y="578.5" width="167" height="36" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-6" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;方法&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1130" y="570" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;createInternalTenantKey()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1067" y="751" width="167" height="36" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00994D;strokeWidth=2;" parent="1" source="WXXS1D7m9ENV-bKCxULW-12" target="WXXS1D7m9ENV-bKCxULW-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-12" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;deleteKeyAsync(String tenant)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1570" y="578.5" width="200" height="36" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-13" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;rpc调用&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1536" y="636.75" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;deleteTenant( )&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1553.5" y="751" width="167" height="36" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-15" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;rpc调用&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-990" y="636.75" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-16" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;调用&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-990" y="430" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-18" value="&lt;font color=&quot;#0000cc&quot; style=&quot;font-size: 19px;&quot;&gt;cloudmgr-key中&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-147" y="-355" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-20" value="&lt;font color=&quot;#0000cc&quot; style=&quot;font-size: 19px;&quot;&gt;cloudmgr-key-server中&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-400" y="390" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-21" value="&lt;font color=&quot;#0000cc&quot; style=&quot;font-size: 25px;&quot;&gt;cloudmgr-account-server&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1386.5" y="300" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-22" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;TenantService&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="-1304.75" y="350.75" width="167.5" height="50.5" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-23" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;方法&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1130" y="346" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-27" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="WXXS1D7m9ENV-bKCxULW-25" target="WXXS1D7m9ENV-bKCxULW-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-25" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;//创建租户&lt;/font&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;createTenant(...)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1067" y="358" width="167" height="36" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-28" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" source="WXXS1D7m9ENV-bKCxULW-36" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1120" y="477" as="sourcePoint" />
            <mxPoint x="-990" y="477" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-29" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="WXXS1D7m9ENV-bKCxULW-2" target="WXXS1D7m9ENV-bKCxULW-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1140" y="680" as="sourcePoint" />
            <mxPoint x="-1090" y="630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-30" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="WXXS1D7m9ENV-bKCxULW-22" target="WXXS1D7m9ENV-bKCxULW-25" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1130" y="426" as="sourcePoint" />
            <mxPoint x="-1080" y="376" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-31" value="" style="endArrow=none;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="WXXS1D7m9ENV-bKCxULW-12" target="WXXS1D7m9ENV-bKCxULW-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1330" y="610" as="sourcePoint" />
            <mxPoint x="-1290" y="597" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-32" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;方法&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1359.5" y="570" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-33" value="" style="endArrow=none;html=1;rounded=0;" parent="1" target="WXXS1D7m9ENV-bKCxULW-22" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1390" y="376" as="sourcePoint" />
            <mxPoint x="-1326" y="376" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-35" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;方法&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1380" y="346" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-37" value="&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;//删除租户&lt;/font&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;deleteTenant(...)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1553.5" y="358" width="167" height="36" as="geometry" />
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-38" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="WXXS1D7m9ENV-bKCxULW-37" target="WXXS1D7m9ENV-bKCxULW-12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1490" y="510" as="sourcePoint" />
            <mxPoint x="-1440" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WXXS1D7m9ENV-bKCxULW-40" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" source="WXXS1D7m9ENV-bKCxULW-36" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1330" y="477" as="sourcePoint" />
            <mxPoint x="-1460" y="477" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-1" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;调用&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1520" y="430" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-2" value="" style="endArrow=none;html=1;rounded=0;dashed=1;strokeWidth=2;shadow=0;flowAnimation=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1570" y="693" as="sourcePoint" />
            <mxPoint x="-890" y="693" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-6" value="&lt;font color=&quot;#0000cc&quot; style=&quot;font-size: 25px;&quot;&gt;cloudmgr-key&lt;/font&gt;&lt;span style=&quot;font-size: 25px; color: rgb(0, 0, 204); background-color: initial;&quot;&gt;-server&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1346" y="810" width="250" height="40" as="geometry" />
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;KeyGrpcService&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-1300" y="729" width="150" height="80.5" as="geometry" />
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-8" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;方法&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1136.5" y="739" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-9" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="fe8jI3ctOerExnmkXJ-j-7" target="WXXS1D7m9ENV-bKCxULW-7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1153.5" y="799" as="sourcePoint" />
            <mxPoint x="-1069.5" y="799" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-10" value="" style="endArrow=none;html=1;rounded=0;" parent="1" source="WXXS1D7m9ENV-bKCxULW-14" target="fe8jI3ctOerExnmkXJ-j-7" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1383" y="781.25" as="sourcePoint" />
            <mxPoint x="-1314" y="781.25" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-11" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;方法&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1370" y="739" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="fe8jI3ctOerExnmkXJ-j-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1536.5000000000002" y="860" as="sourcePoint" />
            <mxPoint x="-1537" y="1066" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-13" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;调用&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1586" y="873" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="fe8jI3ctOerExnmkXJ-j-14" target="fe8jI3ctOerExnmkXJ-j-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-14" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;deleteTenantKey( )&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1620" y="923" width="167" height="36" as="geometry" />
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-16" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;deleteKey( Tenant )&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1620" y="1013" width="167" height="36" as="geometry" />
        </mxCell>
        <mxCell id="fe8jI3ctOerExnmkXJ-j-18" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;调用&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1586" y="973" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ZEL9m4dLLKNVyuvNzcwH-3" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;width=8;endSize=4.87;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="-1225.5" y="720" as="sourcePoint" />
            <mxPoint x="-1225.5" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ZEL9m4dLLKNVyuvNzcwH-2" value="&lt;font color=&quot;#006600&quot; style=&quot;font-size: 17px;&quot;&gt;与 cloudmgr-key-server 通过gRPC交互&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;dashed=1;dashPattern=1 2;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="-1386" y="661.75" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-1" target="9OQgrXKli6OPfyWgQnYw-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-1" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;createInternalTenantKey(...)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1311.5" y="1311.75" width="184.25" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-4" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;KeyGrpcService&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-1294.25" y="1200" width="150" height="80.5" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-6" value="" style="endArrow=none;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="9OQgrXKli6OPfyWgQnYw-4" target="9OQgrXKli6OPfyWgQnYw-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1147.75" y="1270" as="sourcePoint" />
            <mxPoint x="-1063.75" y="1270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00994D;strokeWidth=2;dashed=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1216" y="1140" as="sourcePoint" />
            <mxPoint x="-1216" y="1200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-16" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;gRPC 调用&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="-1220" y="1150" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-18" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;account-server 模块&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="-1359.5" y="1150" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-19" target="9OQgrXKli6OPfyWgQnYw-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-19" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;1.验证并获取租户id&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1311.5" y="1385.25" width="184.25" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-20" target="9OQgrXKli6OPfyWgQnYw-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-20" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;2.查询租户密钥&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1302.3799999999999" y="1448" width="166" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-21" target="9OQgrXKli6OPfyWgQnYw-29" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1219.4" y="1577.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="9OQgrXKli6OPfyWgQnYw-21" target="9OQgrXKli6OPfyWgQnYw-33" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1100" y="1528" />
              <mxPoint x="-1100" y="1218" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-21" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;密钥存在？&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-1309.38" y="1503" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-29" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;结束&lt;/font&gt;" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-1254.38" y="1576" width="70" height="33.5" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-31" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;N&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-949" y="1260" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-32" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;N&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1140" y="1503" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-33" target="9OQgrXKli6OPfyWgQnYw-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-33" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;3.查询根密钥&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1069" y="1200" width="120" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-35" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;创建租户密钥&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1220" y="1279.5" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-37" target="9OQgrXKli6OPfyWgQnYw-39" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-37" target="9OQgrXKli6OPfyWgQnYw-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-37" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;密钥存在？&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-1064" y="1258.5" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-39" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;抛出异常&lt;/span&gt;" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-909" y="1266.75" width="70" height="33.5" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-41" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;Y&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1214.38" y="1546" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-42" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;Y&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1003" y="1301" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-43" target="9OQgrXKli6OPfyWgQnYw-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-43" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;4.创建租户密钥元数据&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1080" y="1331" width="140.5" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-50" target="9OQgrXKli6OPfyWgQnYw-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-50" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;5.查询根密钥版本&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1078.5" y="1390" width="139" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-54" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;deleteTenant( )&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-620" y="734" width="167" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-54" target="9OQgrXKli6OPfyWgQnYw-58" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-536.5" y="863" as="sourcePoint" />
            <mxPoint x="-537" y="976" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-56" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;调用&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-586" y="783" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-57" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-58" target="9OQgrXKli6OPfyWgQnYw-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-58" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;deleteTenantKey( )&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-620" y="833" width="167" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-59" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;deleteKey( Tenant )&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-620" y="923" width="167" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-60" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;调用&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-586" y="883" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-61" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;删除租户密钥&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-592.25" y="692" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-62" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;方法&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-453" y="722" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-63" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;KeyGrpcService&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-406.5" y="712" width="150" height="80.5" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-64" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;gRPC 调用&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="-332.25" y="662" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-65" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00994D;strokeWidth=2;dashed=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-328.25" y="652" as="sourcePoint" />
            <mxPoint x="-328.25" y="712" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-66" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;account-server 模块&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;" parent="1" vertex="1">
          <mxGeometry x="-471.75" y="662" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-67" target="9OQgrXKli6OPfyWgQnYw-73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-67" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;是否活跃？&lt;/font&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-1064" y="1453" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-69" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;N&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-949" y="1447" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-70" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-67" target="9OQgrXKli6OPfyWgQnYw-71" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-954" y="1481.87" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-71" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;抛出异常&lt;/span&gt;" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-913" y="1461.25" width="70" height="33.5" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-72" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;Y&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1003" y="1494.75" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-77" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-73" target="9OQgrXKli6OPfyWgQnYw-75" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-73" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;6.创建租户密钥版本&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1078.5" y="1521.75" width="139" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-78" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-75" target="9OQgrXKli6OPfyWgQnYw-76" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-75" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;7.响应gRPC客户端&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1078.5" y="1574.75" width="139" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-76" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;结束&lt;/span&gt;" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-913" y="1574.75" width="70" height="33.5" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-80" value="&lt;div&gt;&lt;span style=&quot;font-size: 14px; text-wrap-mode: nowrap;&quot;&gt;自动装配&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;font-size: 14px; text-wrap-mode: nowrap;&quot;&gt;@Autowired&lt;/span&gt;&lt;br style=&quot;font-size: 14px; text-wrap-mode: nowrap;&quot;&gt;&lt;span style=&quot;font-size: 14px; text-wrap-mode: nowrap;&quot;&gt;KeyProxyService&amp;nbsp;&lt;/span&gt;&lt;b style=&quot;font-size: 14px; text-wrap-mode: nowrap;&quot;&gt;keyService&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-2060" y="1239" width="210" height="80" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-81" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;KeyProxyService&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="-2031.5" y="1360.25" width="150" height="80.5" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-82" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00994D;strokeWidth=2;" parent="1" source="9OQgrXKli6OPfyWgQnYw-83" target="9OQgrXKli6OPfyWgQnYw-85" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-83" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;createKey(String tenant)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1810" y="1382.5" width="180" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-84" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;方法&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1860" y="1374" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-85" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;createInternalTenantKey()&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1810" y="1555" width="180" height="36" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-86" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;rpc调用&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1720" y="1440.75" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-87" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;调用&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1720" y="1264" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-88" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;TenantService&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="-2034" y="1160.75" width="167.5" height="50.5" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-89" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;方法&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1860" y="1150" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-90" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="9OQgrXKli6OPfyWgQnYw-91" target="9OQgrXKli6OPfyWgQnYw-83" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-91" value="&lt;div&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;//创建租户&lt;/font&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;createTenant(...)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1810" y="1162" width="180" height="48" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-92" value="" style="endArrow=classic;html=1;rounded=0;" parent="1" source="9OQgrXKli6OPfyWgQnYw-80" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1850" y="1281" as="sourcePoint" />
            <mxPoint x="-1720" y="1281" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-93" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="9OQgrXKli6OPfyWgQnYw-81" target="9OQgrXKli6OPfyWgQnYw-83" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1870" y="1484" as="sourcePoint" />
            <mxPoint x="-1820" y="1434" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-94" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="9OQgrXKli6OPfyWgQnYw-88" target="9OQgrXKli6OPfyWgQnYw-91" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1860" y="1230" as="sourcePoint" />
            <mxPoint x="-1810" y="1180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-99" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;KeyGrpcService&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;" parent="1" vertex="1">
          <mxGeometry x="-2030" y="1533" width="150" height="80.5" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-100" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;方法&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-1866.5" y="1543" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-101" value="" style="endArrow=none;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="9OQgrXKli6OPfyWgQnYw-99" target="9OQgrXKli6OPfyWgQnYw-85" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1883.5" y="1603" as="sourcePoint" />
            <mxPoint x="-1799.5" y="1603" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-103" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;width=8;endSize=4.87;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="-1955.5" y="1524" as="sourcePoint" />
            <mxPoint x="-1955.5" y="1444" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9OQgrXKli6OPfyWgQnYw-104" value="&lt;font color=&quot;#006600&quot; style=&quot;font-size: 17px;&quot;&gt;与 cloudmgr-key-server 通过gRPC交互&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;dashed=1;dashPattern=1 2;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="-2001.5" y="1470.75" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=15;" parent="1" source="r5Ix42TB2hZoI5tb7Bmm-2" target="r5Ix42TB2hZoI5tb7Bmm-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-2" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;deleteTenant(...)&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="-531.5" y="1341.87" width="184.25" height="36" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-3" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;KeyGrpcService&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#36393d;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="-514.25" y="1225.12" width="150" height="80.5" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-4" value="" style="endArrow=none;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=15;" parent="1" source="r5Ix42TB2hZoI5tb7Bmm-3" target="r5Ix42TB2hZoI5tb7Bmm-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-367.75" y="1295.12" as="sourcePoint" />
            <mxPoint x="-283.75" y="1295.12" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#00994D;strokeWidth=2;dashed=1;fontSize=15;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-436" y="1165.12" as="sourcePoint" />
            <mxPoint x="-436" y="1225.12" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-6" value="&lt;span&gt;gRPC 调用&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-491.37" y="1171" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-7" value="&lt;span&gt;account-server 模块&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-520" y="1139" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="r5Ix42TB2hZoI5tb7Bmm-9" target="r5Ix42TB2hZoI5tb7Bmm-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-9" value="&lt;span&gt;1.验证并获取租户id&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-531.5" y="1404.75" width="184.25" height="36" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-45" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="r5Ix42TB2hZoI5tb7Bmm-11" target="r5Ix42TB2hZoI5tb7Bmm-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-11" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;font style=&quot;&quot;&gt;2.查询租户密钥&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="-520.77" y="1470.75" width="162.79" height="36" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-20" value="&lt;span&gt;删除租户密钥&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-445" y="1304.62" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="r5Ix42TB2hZoI5tb7Bmm-44" target="r5Ix42TB2hZoI5tb7Bmm-47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-44" value="&lt;font&gt;&lt;font&gt;3.删除租户密钥所有子密钥&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-299.69" y="1471.62" width="204.69" height="36" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-50" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="r5Ix42TB2hZoI5tb7Bmm-47" target="r5Ix42TB2hZoI5tb7Bmm-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-47" value="&lt;font&gt;&lt;font&gt;4.删&lt;/font&gt;&lt;/font&gt;&lt;span&gt;除租户密钥版本&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-299.69" y="1400.87" width="204.69" height="36" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="r5Ix42TB2hZoI5tb7Bmm-48" target="r5Ix42TB2hZoI5tb7Bmm-51" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-48" value="&lt;font&gt;&lt;font&gt;5.删除租户密钥元数据&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-299.69" y="1331.87" width="204.69" height="36" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="r5Ix42TB2hZoI5tb7Bmm-51" target="r5Ix42TB2hZoI5tb7Bmm-53" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-51" value="&lt;font&gt;6.响应gRPC客户端&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-295.34" y="1270.4899999999998" width="200" height="36" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-53" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;结束&lt;/span&gt;" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="-230.34" y="1212.12" width="70" height="33.5" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-59" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="r5Ix42TB2hZoI5tb7Bmm-55" target="DwfQ2W4gasCkB7-X87z7-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-726.9411764705883" y="1769" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-55" value="&lt;font&gt;&lt;font&gt;生成的随机密钥字节数据&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-818" y="1700" width="182.94" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="r5Ix42TB2hZoI5tb7Bmm-56" target="DwfQ2W4gasCkB7-X87z7-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-56" value="&lt;font&gt;&lt;font&gt;活跃根密钥版本cipher字段&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-1167.4" y="1701" width="204.8" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r5Ix42TB2hZoI5tb7Bmm-64" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;作为&lt;font color=&quot;#cc0000&quot;&gt;加密密钥key&lt;/font&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;" parent="1" vertex="1">
          <mxGeometry x="-910.0000000000001" y="1860" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DwfQ2W4gasCkB7-X87z7-1" target="DwfQ2W4gasCkB7-X87z7-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-1" value="&lt;font&gt;&lt;font color=&quot;#00783c&quot;&gt;解密密钥key(secret)&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="-1297" y="1873" width="155.2" height="36" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="DwfQ2W4gasCkB7-X87z7-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1000" y="1891" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-4" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;解密&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-1107" y="1871" width="84" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="DwfQ2W4gasCkB7-X87z7-8" target="DwfQ2W4gasCkB7-X87z7-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-8" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;加密&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-768.5299999999999" y="1871" width="84" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="DwfQ2W4gasCkB7-X87z7-21" target="DwfQ2W4gasCkB7-X87z7-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-21" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;Base64编码&lt;/font&gt;" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;size=10;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-559.9999999999999" y="1790" width="110" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-23" value="&lt;font&gt;&lt;font&gt;加密后的租户密钥cipher&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="-594.25" y="1700" width="178.94" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="DwfQ2W4gasCkB7-X87z7-30" target="DwfQ2W4gasCkB7-X87z7-8">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-890" y="1891" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="DwfQ2W4gasCkB7-X87z7-29" target="DwfQ2W4gasCkB7-X87z7-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-29" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;Base64解码&lt;/span&gt;" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;size=10;fillColor=#f9f7ed;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-1125" y="1790" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-30" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;Base64编码&lt;/span&gt;" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;size=10;fillColor=#eeeeee;strokeColor=#36393d;" vertex="1" parent="1">
          <mxGeometry x="-1000" y="1871" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-34" value="" style="triangle;whiteSpace=wrap;html=1;rotation=-90;" vertex="1" parent="1">
          <mxGeometry x="-837.5" y="2212.5" width="45" height="110" as="geometry" />
        </mxCell>
        <mxCell id="DwfQ2W4gasCkB7-X87z7-35" value="" style="shape=trapezoid;perimeter=trapezoidPerimeter;whiteSpace=wrap;html=1;fixedSize=1;size=40;" vertex="1" parent="1">
          <mxGeometry x="-910" y="2300" width="180" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
